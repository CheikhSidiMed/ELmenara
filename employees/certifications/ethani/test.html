<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تصميم </title>
    <link rel="stylesheet" href="../css/topbar.css">
    <style>
        :root {
            --primary-color: #1BA078;
            --overlay-size: 150px;
        }
        
        body {
            margin: 0;
            font-family: Arial, sans-serif;
        }
        
        .header-container {
            position: relative;
            width: 100%;
            overflow: hidden;
            height: 300px; /* Match your main photo height */
        }
        
        .main-photo {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }
        
        .header-svg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 2; /* Above the main photo */
        }
        
        .cls-75 {
            fill: rgba(27, 160, 120, 0.5); /* Semi-transparent green */
        }
        
        .overlay-photo-container {
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            z-index: 3; /* Above both SVG and main photo */
        }
        
        .overlay-photo {
            width: var(--overlay-size);
            height: var(--overlay-size);
            border-radius: 50%;
            border: 3px solid white;
            object-fit: cover;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        .upload-controls {
            position: absolute;
            bottom: 20px;
            left: 20px;
            display: flex;
            gap: 10px;
            z-index: 4; /* Above everything */
        }
        
        .upload-btn {
            background-color: rgba(0,0,0,0.7);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .upload-btn:hover {
            background-color: var(--primary-color);
        }
        
        .content {
            padding: 20px;
            margin-top: 20px;
        }
        
        input[type="file"] {
            display: none;
        }
    </style>
    <style>
        .cls-1 {
          fill: #1b8878;
        }
  
        .cls-2 {
          clip-path: url(#clippath-6);
        }
  
        .cls-3 {
          clip-path: url(#clippath-7);
        }
  
        .cls-4 {
          fill: #666766;
        }
  
        .cls-4, .cls-5, .cls-6, .cls-7, .cls-8, .cls-9, .cls-10 {
          font-family: ExpoArabic-Book, 'Expo Arabic';
        }
  
        .cls-4, .cls-6 {
          font-size: 17px;
        }
  
        .cls-11 {
          fill: #9d7c63;
        }
  
        .cls-12 {
          fill: #119381;
        }
  
        .cls-13 {
          fill: #077364;
        }
  
        .cls-14 {
          fill: #087a6f;
        }
  
        .cls-15 {
          clip-path: url(#clippath-4);
        }
  
        .cls-16 {
          fill: #b68c37;
        }
  
        .cls-17 {
          fill: #047c6c;
        }
  
        .cls-18, .cls-19, .cls-20, .cls-21, .cls-22, .cls-23, .cls-24 {
          fill: none;
        }
  
        .cls-18, .cls-19, .cls-20, .cls-22, .cls-23, .cls-24 {
          stroke-miterlimit: 10;
        }
  
        .cls-18, .cls-23 {
          stroke: #bd9239;
        }
  
        .cls-25 {
          opacity: .29;
        }
  
        .cls-26 {
          font-size: 10.77px;
        }
  
        .cls-26, .cls-27 {
          font-family: ExpoArabic-Bold, 'Expo Arabic';
        }
  
        .cls-26, .cls-27, .cls-28 {
          font-weight: 700;
        }
  
        .cls-26, .cls-29 {
          fill: #058272;
        }
  
        .cls-27 {
          fill: #bf943a;
          font-size: 4.76px;
        }
  
        .cls-30 {
          fill: #c4963d;
        }
  
        .cls-19 {
          stroke: url(#linear-gradient);
        }
  
        .cls-31 {
          fill: #057f6e;
        }
  
        .cls-5 {
          font-size: 8.56px;
        }
  
        .cls-5, .cls-32, .cls-8 {
          fill: #007f6d;
        }
  
        .cls-33 {
          fill: #008c71;
        }
  
        .cls-34, .cls-35 {
          fill: #007b6a;
        }
  
        .cls-20 {
          stroke: #f7941d;
        }
  
        .cls-36 {
          fill: #118273;
        }
  
        .cls-37, .cls-38 {
          fill: #fff;
        }
  
        .cls-39 {
          fill: #067262;
        }
  
        .cls-40, .cls-38 {
          opacity: .17;
        }
  
        .cls-41 {
          fill: #178b7b;
        }
  
        .cls-42 {
          fill: #16907f;
        }
  
        .cls-6, .cls-10 {
          fill: #48494a;
        }
  
        .cls-43 {
          fill: #1a897a;
        }
  
        .cls-44 {
          fill: #119d85;
        }
  
        .cls-45 {
          fill: #168475;
        }
  
        .cls-46 {
          fill: #c7993d;
        }
  
        .cls-47 {
          fill: #0a7566;
        }
  
        .cls-48 {
          fill: url(#Degradado_sin_nombre_118-2);
        }
  
        .cls-48, .cls-49 {
          mix-blend-mode: screen;
          opacity: .51;
        }
  
        .cls-50 {
          fill: #bc9139;
        }
  
        .cls-51 {
          fill: #fafdfc;
        }
  
        .cls-52 {
          fill: #198777;
        }
  
        .cls-53 {
          fill: #158c7c;
        }
  
        .cls-22 {
          stroke: #b8b8b8;
          stroke-width: .56px;
        }
  
        .cls-54 {
          fill: url(#linear-gradient-3);
        }
  
        .cls-55 {
          clip-path: url(#clippath-1);
        }
  
        .cls-56 {
          fill: #037a69;
        }
  
        .cls-57 {
          fill: #189180;
        }
  
        .cls-58 {
          isolation: isolate;
        }
  
        .cls-23 {
          stroke-width: 6px;
        }
  
        .cls-59 {
          clip-path: url(#clippath-5);
        }
  
        .cls-60 {
          fill: #b89077;
        }
  
        .cls-61 {
          fill: #028170;
        }
  
        .cls-62 {
          fill: url(#linear-gradient-5);
        }
  
        .cls-62, .cls-63 {
          fill-rule: evenodd;
        }
  
        .cls-64 {
          clip-path: url(#clippath-8);
        }
  
        .cls-65 {
          fill: url(#linear-gradient-8);
        }
  
        .cls-66 {
          fill: #a98369;
        }
  
        .cls-67 {
          fill: #c49c7b;
        }
  
        .cls-68 {
          clip-path: url(#clippath-3);
        }
  
        .cls-69 {
          fill: #119783;
        }
  
        .cls-70 {
          fill: #c2953a;
        }
  
        .cls-71 {
          fill: #178e7c;
        }
  
        .cls-49 {
          fill: url(#Degradado_sin_nombre_118);
        }
  
        .cls-24 {
          stroke: url(#linear-gradient-2);
        }
  
        .cls-72 {
          fill: #0e9983;
        }
  
        .cls-73 {
          fill: #b78d38;
        }
  
        .cls-74 {
          fill: url(#linear-gradient-7);
        }
  
        .cls-75 {
          filter: url(#drop-shadow-3);
        }
  
        .cls-75, .cls-76 {
          fill: #bd9239;
        }
  
        .cls-77 {
          fill: #1b8677;
        }
  
        .cls-78 {
          fill: #f8ac3d;
        }
  
        .cls-63 {
          fill: url(#linear-gradient-4);
        }
  
        .cls-79 {
          fill: #9c7b62;
        }
  
        .cls-80 {
          fill: url(#linear-gradient-6);
        }
  
        .cls-7 {
          fill: #ad8337;
          font-size: 15.54px;
        }
  
        .cls-81 {
          fill: #027061;
        }
  
        .cls-82 {
          fill: #b38b39;
        }
  
        .cls-35 {
          font-family: SakkalMajalla, 'Sakkal Majalla';
          font-size: 7.47px;
        }
  
        .cls-8 {
          font-size: 9.13px;
        }
  
        .cls-83 {
          clip-path: url(#clippath-2);
        }
  
        .cls-84 {
          fill: #c99b3f;
        }
  
        .cls-85 {
          fill: #f6d5ab;
        }
  
        .cls-86 {
          fill: #0c9581;
        }
  
        .cls-87 {
          fill: #bd956f;
        }
  
        .cls-88 {
          fill: #ba8f39;
        }
  
        .cls-9 {
          fill: #0b7466;
          font-size: 3.98px;
        }
  
        .cls-89 {
          clip-path: url(#clippath);
        }
  
        .cls-90 {
          fill: #119a85;
        }
  
        .cls-91 {
          fill: #c0953a;
        }
  
        .cls-92 {
          fill: #047667;
        }
  
        .cls-28 {
          fill: #046757;
          font-family: Al-Jazeera-Arabic-Bold, Al-Jazeera-Arabic;
          font-size: 17.27px;
        }
  
        .cls-10 {
          font-size: 15px;
        }
      
        
        body {
          padding: 0;
          margin: 0;
      }
      #content {
          margin: 0 !important;
          padding: 0 !important;
      }

      input {
        width: 270px;
        padding: 8px;
        margin-bottom: 20px;
        border: 2px solid #1BA078;
        border-radius: 8px;
        font-size: 16px;
        color: #333;
        background-color: #f9f9f9;
        outline: none;
        transition: border-color 0.3s ease;
      }
      input::placeholder {
          color: #888;
      }

      input[type="file"] {
        cursor: pointer;
        font-size: 20px;
        padding: 5px;
      }

      button {
          padding: 12px;
          margin-bottom: 10px;
          border: none;
          border-radius: 8px;
          font-size: 16px;
          font-weight: bold;
          color: #fff;
          background-color: #1BA078;
          cursor: pointer;
          transition: background-color 0.3s ease;
      }

      button:hover {
          background-color: #165d8a;
      }

      button:active {
          transform: scale(0.98);
      }

      .b-group {
          text-align: center;
          justify-content: center;
          align-items: center;
      }
      </style>

</head>
<body>

    <div id="navbar-container"></div>

  <script>
      fetch("../navbar.html")
          .then(response => response.text())
          .then(data => {
              document.getElementById("navbar-container").innerHTML = data;
          })
          .catch(error => console.error("Erreur lors du chargement du menu :", error));
  </script>

<div class="header-container">
    <svg class="header-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 595.28 821.89" preserveAspectRatio="none">
      <path class="cls-75" d="M452.85,0h95.09v103.87c0,9.6-7.79,17.4-17.4,17.4h-59.87c-9.84,0-17.82-7.99-17.82-17.82V0h0Z"/>
        <g>
            <path class="cls-37" d="M538.57,45.02c-1.68-2.63-2.29-2.75-4.58-.73-3.18,2.8-5.25,6.51-7.4,10.57.93,0,1.65.12,2.33-.02,1.65-.35,3.26-.89,4.91-1.22,1.99-.4,3.17.5,3.12,2.67-.07,3.46-.07,6.98-.71,10.35-.91,4.83-3.96,8.03-8.02,10.16-.58.31-1.2.78-1.54,1.36-4.67,7.83-11.18,13.26-19.03,16.89-5.15,2.38-10.52,3.78-16.18,3.13-8.09-.93-13.01-6-14.29-14.75-.19-1.32-.36-2.65-.51-3.98-.05-.42.03-.85.05-1.28.15-.04.3-.08.46-.12.17.37.42.71.51,1.11,1.71,7.4,6.63,11.75,13.84,12.23,7.5.5,14.3-1.93,20.73-5.81,3.81-2.3,7.25-5.12,9.96-8.21-.36-1.82-.85-3.32-.93-4.85-.16-3.37-.73-6.8.61-10.07.3-.73.43-1.61.89-2.19,1.27-1.58,1.54-3.51,2-5.41,1.46-6.1,4.13-11.55,7.96-16.3.86-1.07,2.01-1.9,3.12-2.68,1.23-.87,2.28-.21,3.07.87,1.12,1.52.89,6.65-.38,8.31ZM530.28,68.8c2.29-1.49,3.93-3.59,5.13-6.09.69-1.44.08-2.49-1.42-2.36-1.25.1-2.49.5-3.71.75v7.7ZM525.26,70.81c2.04.26,2.5-1.44,3.22-2.9.67-1.36.05-2.28-.8-3.06-.96-.89-1.96-.42-2.59.48-.77,1.08-1.32,2.35-1.95,3.54-.52.99-.05,1.47.81,1.69.43.11.87.17,1.31.25Z"/>
            <path class="cls-37" d="M477.89,34.24c-2.67,1.26-5.25,2.47-8.05,3.79-.1-2.32-.19-4.39-.25-6.46,0-.21.19-.53.37-.62,2.59-1.26,5.2-2.48,7.96-3.79.04.89.07,1.53.09,2.17.12,3.47.48,6.95.29,10.39-.3,5.39-2.97,9.75-5.93,13.91-3.52,4.96-7.15,9.84-10.44,14.98-1.98,3.1-3.27,6.66-2.16,10.61.9,3.24,2.38,6.11,5.16,7.89,2.34,1.5,4.23.93,5.28-1.92,1.16-3.16,1.91-6.5,2.85-9.75.68-2.34,1.21-4.76,2.13-6.99.48-1.17,1.47-2.32,2.51-2.94,1.51-.9,2.68-.34,3.58,1.3.71,1.29,1.26,2.67,1.97,3.96,1.43,2.61,3.51,4.53,6.25,5.05,1.66.31,3.51-.09,5.2-.54,4.07-1.09,7.59-3.32,9.98-7.09,1.13-1.79,1.67-4.01,2.61-6.35.9,2.47-.48,5.22.65,7.25.34-.36.64-.92,1.09-1.11,4.91-2.19,7.12-6.21,7.07-11.99,0-.48.33-.96.5-1.43.17.45.44.88.48,1.34.15,1.38.22,2.78.3,4.17.52,8.96-3.29,14.32-11.4,16.21-.85.2-1.74.74-2.39,1.37-3.12,3.02-6.7,4.96-10.85,5.56-4.24.62-7.44-1.29-9.72-5.06-.81-1.34-1.36-2.85-2.08-4.25-.88-1.7-2.44-1.91-3.42-.28-.92,1.52-1.63,3.25-2.14,4.99-1.02,3.51-1.78,7.12-2.78,10.64-.41,1.44-1.04,2.85-1.77,4.13-1.04,1.82-2.36,2.52-4.79,1.72-3.32-1.09-5.14-3.95-6.29-7.25-1.75-5.02-1.8-10.28-1.19-15.49.65-5.56,3.61-9.98,6.77-14.25,3.43-4.63,6.91-9.24,10.07-14.09,1.83-2.8,2.65-6.16,2.5-9.77Z"/>
            <path class="cls-37" d="M491.01,64.58c.82-1.81,1.51-3.35,2.19-4.86-1.16-.33-2.52-.55-3.76-1.09-1.95-.84-2.38-1.97-2-4.21.52-3.03,1.92-5.46,4.28-7.2.92-.68,2-1.22,3.03-.37,1.04.85,1.04,2.12.67,3.37-.19.64-.48,1.24-.75,1.94-1.61-2.26-3.63-1.73-5.7,1.55,4.22,2.69,8.24,3.2,12.32-.55-.39,1.74-.32,3.42-1.88,4.59-2.76,2.06-5.38,4.35-8.4,6.83Z"/>
            <path class="cls-37" d="M484.28,42.39c.29-2.71,1.24-4.64,3.3-5.98,2.38-1.54,4.56-3.44,6.85-5.14.46-.34,1.07-.46,1.56-.78.22-.14.25-.59.46-.75,3.02-2.33,6.06-4.63,9.24-6.82-.58,1.69-.65,3.59-2.22,4.75-4.54,3.36-9.07,6.73-13.57,10.15-1.92,1.45-3.74,3.04-5.61,4.57Z"/>
            <path class="cls-37" d="M509.8,41.54c1.46,1.03,2.82,1.99,4.51,3.18-.89,1.55-1.73,3.07-2.63,4.54-.11.18-.67.25-.87.12-1.23-.8-2.42-1.66-3.6-2.55-.15-.12-.24-.63-.14-.81.86-1.48,1.78-2.92,2.73-4.47Z"/>
            <g>
              <path class="cls-37" d="M528.71,27.73c1.46,1.03,2.82,1.99,4.51,3.18-.89,1.55-1.73,3.07-2.63,4.54-.11.18-.67.25-.87.12-1.23-.8-2.42-1.66-3.6-2.55-.15-.12-.24-.63-.14-.81.86-1.48,1.78-2.92,2.73-4.47Z"/>
              <path class="cls-37" d="M525,33.97c1.46,1.03,2.82,1.99,4.51,3.18-.89,1.55-1.73,3.07-2.63,4.54-.11.18-.67.25-.87.12-1.23-.8-2.42-1.66-3.6-2.55-.15-.12-.24-.63-.14-.81.86-1.48,1.78-2.92,2.73-4.47Z"/>
            </g>
          </g>
          <line class="cls-23" x1="0" y1="236.02" x2="595.28" y2="236.21"/>

      <text class="cls-10" transform="translate(64.25 291.52) scale(.87 1)"><tspan x="60" y="0" xml:space="preserve"> تتقدم محظرة المنارة والرباط لتدريس العلوم الإسلامية  (إدارة - وأساتذة - ووكلاء - وطلابا)</tspan><tspan x="152.22" y="30.71" xml:space="preserve">:  بأحر النهاني وأطيب التبريكات  ؛ للأستاذة  المتميزة ، الخلوقة ، المُقرِئة </tspan></text>
      <text class="cls-6" transform="translate(72.21 636.6) scale(.87 1)"><tspan x="40" y="0">.وفي الختام نهديها خالص التهاني ونتمنى لها مستقبلا مشرقا ونجاحا مستمرا </tspan></text>
      <line class="cls-23" x1="0" y1="236.02" x2="595.28" y2="236.21"/>
    </svg>
    
    <!-- Main Background Photo -->
    <img id="mainPhoto" class="main-photo" src="https://via.placeholder.com/1920x300" alt="صورة الخلفية الرئيسية">
    
    <!-- Overlay Photo Container -->
    <div class="overlay-photo-container">
        <img id="overlayPhoto" class="overlay-photo" src="https://via.placeholder.com/150" alt="الصورة الشخصية">
        
        <div class="upload-controls">
            <label for="mainPhotoInput" class="upload-btn">
                تغيير الخلفية
            </label>
            <label for="overlayPhotoInput" class="upload-btn">
                تغيير الصورة
            </label>
        </div>
    </div>
    
    <!-- Hidden file inputs -->
    <input type="file" id="mainPhotoInput" accept="image/*">
    <input type="file" id="overlayPhotoInput" accept="image/*">



</div>

<div class="content">
    <h1>محتوى الصفحة هنا</h1>
    <p>هذا هو المحتوى الأساسي لصفحتك أسفل الصور.</p>
</div>
    


<div id="content">

        <img id="photo" width="321"  />

</div>


<br>

<div class="b-group">
    <input type="text" id="nameIm" placeholder=" الأستاذة" dir="rtl">
    <input type="text" id="nameIv" placeholder=" وذلك بمناسبة" dir="rtl">
    <input type="date" id="nameDInput">
    <input type="file" id="photoInput1" accept="image/*">
    <!-- <input type="file" id="photoInput" accept="image/*"> -->

    <button onclick="updateSVG()">تحديــــــــث</button>
    <button id="saveButton">PNGحفظ كــــــــ</button>
    <button onclick="saveAsPDF()">PDFحفظ كـــــــــ</button>
</div>
<img id="photo" alt="Image preview">

<input type="file" id="photoInput" accept="image/*">


<script>
    // Handle main photo upload
    document.getElementById('mainPhotoInput').addEventListener('change', function(e) {
        const file = e.target.files[0];
        if (file && file.type.match('image.*')) {
            const reader = new FileReader();
            reader.onload = function(event) {
                document.getElementById('mainPhoto').src = event.target.result;
            };
            reader.readAsDataURL(file);
        }
    });
    
    // Handle overlay photo upload
    document.getElementById('overlayPhotoInput').addEventListener('change', function(e) {
        const file = e.target.files[0];
        if (file && file.type.match('image.*')) {
            const reader = new FileReader();
            reader.onload = function(event) {
                document.getElementById('overlayPhoto').src = event.target.result;
            };
            reader.readAsDataURL(file);
        }
    });
</script>




<!-- Include jsPDF Library -->
<script src="../../js/jspdf.umd.min.js"></script>
<script src="../../js/html2canvas.min.js"></script>
<script>
  document.getElementById('photoInput').addEventListener('change', function(event) {
      const file = event.target.files[0];
      const errorMessage = document.getElementById('errorMessage');
      const placeholder = document.querySelector('.placeholder-text');
      const imgPreview = document.getElementById('photo');
      
      // Reset states
      errorMessage.style.display = 'none';
      errorMessage.textContent = '';
      
      if (!file) {
          placeholder.style.display = 'block';
          imgPreview.style.display = 'none';
          return;
      }
      
      // Validate file type
      if (!file.type.match('image.*')) {
          errorMessage.textContent = 'الرجاء اختيار ملف صورة فقط (JPG, PNG, etc.)';
          errorMessage.style.display = 'block';
          return;
      }
      
      // Validate file size (e.g., 2MB max)
      if (file.size > 2 * 1024 * 1024) {
          errorMessage.textContent = 'حجم الصورة يجب أن يكون أقل من 2MB';
          errorMessage.style.display = 'block';
          return;
      }
      
      const reader = new FileReader();
      
      reader.onload = function(e) {
          imgPreview.src = e.target.result;
          imgPreview.style.display = 'block';
          placeholder.style.display = 'none';
      };
      
      reader.onerror = function() {
          errorMessage.textContent = 'حدث خطأ أثناء قراءة الملف';
          errorMessage.style.display = 'block';
      };
      
      reader.readAsDataURL(file);
  });
</script>

<script>
    function updateSVG() {
        const name = document.getElementById("nameIm").value;
        const date = document.getElementById("nameDInput").value;
        const name_v = document.getElementById("nameIv").value;
        const photoInput = document.getElementById("photoInput").files[0];
        const photoInput1 = document.getElementById("photoInput1").files[0];

        if (name) {
            document.getElementById("name-m").textContent = name;
        }
        if (date) {
            document.getElementById("text-date").textContent = "بتاريخ :" + date;
        }
        if (name_v) {
            document.getElementById("text-v").textContent = "وذلك بمناسبة " + name_v;
        }
        if (photoInput) {
            const reader = new FileReader();
            reader.onload = function(e) {
                document.getElementById("photo").setAttribute("href", e.target.result);
            };
            reader.readAsDataURL(photoInput);
        }
        if (photoInput1) {
            const reader1 = new FileReader();
            reader1.onload = function(e) {
                document.getElementById("photo1").setAttribute("href", e.target.result);
            };
            reader1.readAsDataURL(photoInput1);
        }
    }


    function saveAsPNG() {
      const element = document.getElementById("content");
      const name = document.getElementById("nameIm").value;

      if (!element) {
          console.error("Element not found!");
          return;
      }

      const scale = 2;
      const options = {
          scale: scale,
          logging: true,
          useCORS: true,
          allowTaint: true,
          letterRendering: true,
          backgroundColor: "#FFFFFF",
          windowWidth: element.scrollWidth,
          windowHeight: element.scrollHeight
      };

      html2canvas(element, options).then(canvas => {
          // Create HD PNG with maximum quality
          const link = document.createElement('a');
          link.download = name+'.png';
          link.href = canvas.toDataURL("image/png", 1.0); // 1.0 = maximum quality
          link.click();
      }).catch(error => {
          console.error("Error capturing content:", error);
          alert("Error capturing image: " + error.message);
      });
  }

  window.onload = function() {
      document.getElementById("saveButton").addEventListener("click", saveAsPNG);
  };

  function saveAsPDF() {
    const name = document.getElementById("nameIm").value;
    const element = document.getElementById("content");
    if (!element) {
        console.error("Element not found!");
        return;
    }

    // High quality settings
    const scale = 3;
    const dpi = 300; // Target DPI
    const options = {
        scale: scale,
        logging: true,
        useCORS: true,
        letterRendering: true,
        allowTaint: true,
        backgroundColor: "#FFFFFF"
    };

    html2canvas(element, options).then(canvas => {
        const imgData = canvas.toDataURL('image/png', 1.0);
        const pdf = new jspdf.jsPDF({
            orientation: canvas.width > canvas.height ? 'landscape' : 'portrait',
            unit: 'mm',
            format: [canvas.width * 0.264583, canvas.height * 0.264583],
            compress: false,
            hotfixes: ["px_scaling"]
        });

        const width = (canvas.width * 26.7) / dpi * scale;
        const height = (canvas.height * 26.7) / dpi * scale;

        // Add image to PDF
        pdf.addImage({
            imageData: imgData,
            format: 'PNG',
            x: 0,
            y: 0,
            width: width,
            height: height,
            compression: 'NONE'
        });

        pdf.save(name+'.pdf');
    }).catch(error => {
        console.error("Error generating PDF:", error);
        alert("Error generating PDF: " + error.message);
    });
  }


</script>


<script>
  function toggleMenu() {
      document.querySelector('.nav-links').classList.toggle('show');
  }
</script>

</body>
</html>